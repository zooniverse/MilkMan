<%- blotch = @obj[0] -%>
<%- zoo_id = @obj[1] -%>
<%- scale = @obj[2] -%>
<%- col = @obj[3] -%>
<%- count = @obj[4] -%>
<%- primary = @obj[5] -%>
<%- rand = rand(10 ** 10).to_s.rjust(10,'0') -%>

<%- tag = primary==false ? "blotch=#{zoo_id}-#{count}" : "" -%>
<%- funcs = primary==true ? "onmouseover=$('[blotch=#{zoo_id}-#{count}]').css('opacity','0.5'); onmouseout=$('[blotch=#{zoo_id}-#{count}]').css('opacity','0');" : "" -%>
<%- opacity = primary==true ? 0.5 : 0 -%>

        <ellipse cx="<%= blotch["x"]*scale %>" cy="<%= blotch["y"]*scale %>" rx="<%= blotch["rx"]*scale %>" ry="<%= blotch["ry"]*scale %>" fill="#000000" stroke="#FFFFFF" fill-opacity="0" stroke-width="8*<%= scale %>" tabindex="0" opacity="<%= opacity %>" transform="rotate(<%= blotch["angle"] %>, <%= blotch["x"]*scale %>, <%= blotch["y"]*scale %>)" <%= funcs %> <%= tag %> ></ellipse>

        <ellipse cx="<%= blotch["x"]*scale %>" cy="<%= blotch["y"]*scale %>" rx="<%= blotch["rx"]*scale %>" ry="<%= blotch["ry"]*scale %>" fill="#000000" stroke="<%= col %>" fill-opacity="0" stroke-width="4*<%= scale %>" tabindex="0" opacity="<%= opacity %>" transform="rotate(<%= blotch["angle"] %>, <%= blotch["x"]*scale %>, <%= blotch["y"]*scale %>)" <%= funcs %> <%= tag %> ></ellipse>